!function(a,b){"use strict";function c(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(n.remove(),n=null),l&&(l.$destroy(),l=null),m&&(d.leave(m,function(){n=null}),n=m,m=null)}function k(){var g=a.current&&a.current.locals;if(b.isDefined(g&&g.$template)){var g=e.$new(),h=a.current;m=i(g,function(a){d.enter(a,null,m||f,function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()}),l=h.scope=g,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function d(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());f.controller&&(g.$scope=d,g=b(f.controller,g),f.controllerAs&&(d[f.controllerAs]=g),e.data("$ngControllerController",g),e.children().data("$ngControllerController",g)),h(d)}}}a=b.module("ngRoute",["ng"]).provider("$route",function(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){return a="?"===d?d:null,d="*"===d?d:null,e.push({name:c,optional:!!a}),b=b||"",""+(a?"":b)+"(?:"+(a?b:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(){var a=m(),d=p.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!o?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(o=!1,c.$broadcast("$routeChangeStart",a,d),(p.current=a)&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(n(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==p.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==p.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function m(){var c,f;return b.forEach(d,function(d){var g;if(g=!f){var h=e.path();g=d.keys;var i={};if(d.regexp)if(h=d.regexp.exec(h)){for(var j=1,k=h.length;k>j;++j){var l=g[j-1],m="string"==typeof h[j]?decodeURIComponent(h[j]):h[j];l&&m&&(i[l.name]=m)}g=i}else g=null;else g=null;g=c=g}g&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function n(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var o=!1,p={routes:d,reload:function(){o=!0,c.$evalAsync(l)}};return c.$on("$locationChangeSuccess",l),p}]}),a.provider("$routeParams",function(){this.$get=function(){return{}}}),a.directive("ngView",c),a.directive("ngView",d),c.$inject=["$route","$anchorScroll","$animate"],d.$inject=["$compile","$controller","$route"]}(window,window.angular),angular.module("jsBlackBelt",["ngCookies","ngResource","ngSanitize","ngRoute","angularLocalStorage","ui.bootstrap","pascalprecht.translate","jsBlackBelt.Constants","jsBlackBelt.Model","jsBlackBelt.Filters","jsBlackBelt.Services","jsBlackBelt.Controllers","jsBlackBelt.Directives"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"scripts/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("jsBlackBelt.Services",["ngResource","angularLocalStorage"]),angular.module("jsBlackBelt.Directives",["ui.bootstrap","pascalprecht.translate"]),angular.module("jsBlackBelt.Controllers",["pascalprecht.translate"]),angular.module("jsBlackBelt.Constants",[]),angular.module("jsBlackBelt.Model",[]),angular.module("jsBlackBelt.Filters",[]),angular.module("jsBlackBelt").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("jsBlackBelt.Directives").directive("jsbbFallbackSrc",[function(){return{restrict:"A",link:function(a,b,c){var d=c.jsbbFallbackSrc;""===d&&(d="images/error.jpg"),b.bind("error",function(){angular.isUndefined(a.fallbackCount)&&(a.fallbackCount=0),a.fallbackCount>=1?b.unbind("error"):(b.attr("src",d),a.fallbackCount++)})}}}]).directive("jsbbPopOverDialog",["$log","$document",function(a,b){return{restrict:"A",replace:!0,transclude:!0,templateUrl:"scripts/common/partials/popOverDialog.tpl.html",scope:{dialogTitle:"@",saveCallback:"&",cancelCallback:"&",dialogStyle:"@",x:"@",y:"@",position:"@",showTitle:"@",showButtons:"@",readOnly:"="},link:function(c,d){var e=d.parent().parent();e.css("padding","0px");var f=(b.width()-e.width())/2,g=c.position||"left",h=d,i=parseInt(c.y,10),j=parseInt(c.x,10)-f;c.shouldShowTitle=angular.isUndefined(c.showTitle)||"true"===c.showTitle?!0:!1,c.shouldShowButtons=angular.isUndefined(c.showButtons)||"true"===c.showButtons?!0:!1;var k=function(){switch(g){case"left":h.css("top",Math.round(i-h.height()/2)+"px"),h.css("left",j-h.width()+"px");break;case"right":h.css("top",Math.round(i-h.height()/2)+"px"),h.css("left",j+"px");break;case"top":h.css("top",i-h.height()+"px"),h.css("left",Math.round(j-h.width()/2)+"px");break;case"bottom":h.css("top",i+"px"),h.css("left",Math.round(j-h.width()/2)+"px");break;case"absolute":h.css("top",i+"px"),h.css("left",j+"px")}};k(),c.$watch("assignments",function(){k(),h.focus();var a=angular.element(".modal-backdrop").css("z-index");angular.element(".modal-backdrop").css("z-index",+a+10)}),c.onCancel=function(){try{c.cancelCallback()}catch(b){a.error(b)}},c.onSave=function(){try{c.saveCallback()}catch(b){a.error(b)}}}}}]),angular.module("jsBlackBelt.Constants").value("InterestContexts",{sampleView1:["type1","type2"],sampleView2:["type3"]}).value("InterestTypes",{TYPE1:"type1",TYPE2:"type2",TYPE3:"type3"}),angular.module("jsBlackBelt.Model").factory("Interest",[function(){function a(a,b){this.updateType=a,this.handler=b}return a.prototype.updateType=void 0,a.prototype.handler=void 0,a}]),angular.module("jsBlackBelt.Services").factory("CacheSrv",["storage","$log",function(a,b){var c={},d=function(c){return function(d){if(angular.isDefined(d))try{a.set(c,d)}catch(e){b.info("[CacheSrv] "+e.message)}else a.remove(c)}},e=function(b){return function(){var d=a.get(b);if(null===d){d=void 0;var e=c[b].setter;e(d)}return d}},f=function(a){var b=d(a),f=e(a);c[a]={setter:b,getter:f}},g=function(a){if(!a||angular.isUndefined(a))throw new Error("key ["+a+"] is not valid");c.hasOwnProperty(a)||f(a)};return{getSetter:function(a){return g(a),c[a].setter},getGetter:function(a){return g(a),c[a].getter}}}]),angular.module("jsBlackBelt.Services").factory("InterestsDelegatorSrv",[function(){var a={},b={registerInterest:function(b){var c=a[b.updateType];angular.isUndefined(c)&&(a[b.updateType]=[],c=a[b.updateType]),-1===c.indexOf(b.handler)&&c.push(b.handler)},registerInterests:function(a){angular.forEach(a,function(a){b.registerInterest(a)})},unregisterInterest:function(b){for(var c,d=a[b.updateType],e=0;e<d.length;e++)if(c=d[e],c===b.handler){d.splice(e,1);break}},unregisterInterests:function(a){angular.forEach(a,function(a){b.unregisterInterest(a)})},notifyRegistrars:function(b,c){var d=a[b];angular.forEach(d,function(a){a(c)})}};return b}]),angular.module("jsBlackBelt.Services").factory("TimingSrv",["$interval",function(a){var b={},c=1e3,d=function(){a(e.tick,c),e.tick()},e={register:function(a,c,d,e){b[a]={tick:c,interval:d,delay:e}},unregister:function(a){delete b[a]},tick:function(){angular.forEach(b,function(a){a.delay-=c,a.delay<=0&&(a.tick(),a.delay=a.interval)})}};return d(),e}]),angular.module("jsBlackBelt.Services").service("ImageSrv",[function(){return{getImageUrlFromId:function(a){return"images/portfolio/"+a+".jpg"},getThumbUrlFromId:function(a){return"images/portfolio/"+a+"_thumb.jpg"}}}]),angular.module("jsBlackBelt.Directives").directive("jsbbAdvancedImg",["$state","$timeout","ImageSrv",function(a,b,c){return{restrict:"AE",replace:!0,templateUrl:"scripts/widgets/advancedImg/advancedImg.tpl.html",scope:{imageId:"@",fallback:"@",imageTitle:"@"},link:function(d){var e=Math.floor(1e3*Math.random());b(function(){d.imageSrc=c.getThumbUrlFromId(d.imageId)},e),d.openImage=function(){a.go("image",{imageId:d.imageId})}}}}]),angular.module("jsBlackBelt",["scripts/common/partials/popOverDialog.tpl.html","scripts/main.html","scripts/widgets/advancedImg/advancedImg.tpl.html"]),angular.module("scripts/common/partials/popOverDialog.tpl.html",[]).run(["$templateCache",function(a){a.put("scripts/common/partials/popOverDialog.tpl.html",'<div class="popOverDialog" id="{{popupId}}" ng-class="dialogStyle" tabindex="0"><h3 ng-if="shouldShowTitle">{{ dialogTitle }}</h3><div ng-transclude></div><div class="btns-area" ng-if="shouldShowButtons"><button ng-show="!readOnly" ng-click="onSave()">Save</button> <a ng-click="onCancel()" class="cancel">Cancel</a></div></div>')}]),angular.module("scripts/main.html",[]).run(["$templateCache",function(a){a.put("scripts/main.html",'<div jsbb-advanced-img class="thumb" image-src="images/concerts/20140531-SEFI1305_thumb.jpg" image-title="Marina"></div>')}]),angular.module("scripts/widgets/advancedImg/advancedImg.tpl.html",[]).run(["$templateCache",function(a){a.put("scripts/widgets/advancedImg/advancedImg.tpl.html",'<div class="advancedImg bgColor thumb" ng-click="openImage()" title="{{imageTitle}}"><img ng-src="{{imageSrc}}" jsbb-fallback-src="{{fallback}}"> </div>')}]);